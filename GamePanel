/**
 * Purpose: to play around with graphics
 * This is the panel that houses the timer, actionlistener, keylistener, paintcomponent
 * This panel will house the objects to be moved around
 */

import javax.swing.JPanel;
import java.awt.*;
import javax.swing.*;
import java.awt.event.*;

public class GamePanel extends JPanel implements ActionListener, KeyListener
{
    private Timer time = new Timer(5,this);
    private int locX;
    private int locY;
    private int changeX;
    private int changeY;
    private int ballX;
    private int ballY;
    private int cX;
    private int cY;
    private int kX; // location of our character - x-coord
    private int kY; // location of our character - y-coord
    private int ckX = 0; // change x by key press
    private int ckY = 0; // change y by key press
    //private Image background = new ImageIcon();
    
    public GamePanel()
    {
        time.start();
        addKeyListener(this);
        setFocusable(true);
        setFocusTraversalKeysEnabled(false);
        locX = 400; // initial starting x-coordinate of object
        locY = 0; // initial starting y-coordinate of object
        changeX = 0; // initial change amount of x-coordinate
        changeY = 0; // initial change amount of y-coordinate
        ballX = 0;
        ballY = 0;
        cX = 1;
        cY = 1;
        kX = 250;
        kY = 450;
    }

    public void paintComponent(Graphics g)
    {
        super.paintComponent(g);
        //g.drawImage(background,0,0,null);
        g.setColor(Color.RED);
        g.fillRect(kX, kY, 40, 40);
        g.setColor(new Color((int)(Math.random()*256),(int)(Math.random()*256),(int)(Math.random()*256)));
        g.fillRect(locX, locY, 50, 80);
        g.setColor(new Color(250,45,72));
        g.drawOval(35,45,60,80);
        for(int i = 0; i < 5; i++)
        {
            g.setColor(new Color((int)(Math.random()*256),(int)(Math.random()*256),(int)(Math.random()*256)));
            int x = (int)(Math.random() * 800);
            g.fillOval(x, locY, 10,10);
        }
        g.setColor(Color.BLACK);
        g.fillOval(ballX,ballY,20,20);
    }

    public void actionPerformed(ActionEvent e)
    {
        ballX += cX;
        ballY += cY;
        if(ballX >= 500)
        {
            cX = -1;
        }
        if(ballY > 500)
        {
            cY = -1;
        }
        if(ballX < 0)
        {
            cX = 1;
        }
        if(ballY < 0)
        {
            cY = 1;
        }

        locX += changeX;
        locY += changeY;
        if(locY >= 900)
        {
            locY = 0;
        }
        kX += ckX;
        kY += ckY;
        repaint();
    }

    public void keyPressed(KeyEvent e)
    {
        int c = e.getKeyCode();
        if(c == KeyEvent.VK_RIGHT)
        {
            ckX = 1;
        }
        if(c == KeyEvent.VK_LEFT)
        {
            ckX = -1;
        }
    }

    public void keyTyped(KeyEvent e)
    {
        int c = e.getKeyCode();
        if(c == KeyEvent.VK_RIGHT)
        {
            ckX = 1;
        }
        if(c == KeyEvent.VK_LEFT)
        {
            ckX = -1;
        }
    }

    public void keyReleased(KeyEvent e)
    {
        int c = e.getKeyCode();
        if(c == KeyEvent.VK_RIGHT)
        {
            ckX = 0;
        }
        if(c == KeyEvent.VK_LEFT)
        {
            ckX = 0;
        }
    }
}
