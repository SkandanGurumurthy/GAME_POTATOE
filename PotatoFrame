import java.awt.CardLayout;
import javax.swing.JFrame;
import javax.swing.JPanel;

/**
 * GUI Frame class for potato game
 */

public class PotatoFrame extends JFrame
{
    //Data members for the JFrame subclass instance 

    /**
     * The instance of the panel used for playing the game.
     */
    private PotatoPanel gamePanel;

    /**
     * Blank panel used for the CardLayout switching screens feature.
     */
    private JPanel panelCards;

    /**
     * The instance variable used to add a celebrity to the game.
     */
    private PotatoStartPanel startPanel;

    /**
     * A reference to the PotatoGame instance to allow for minimized coupling in the object structure.
     */
    private PotatoGame controller;

    /**
     * Builds an instance of the PotatoFrame with a reference to the PotatoGame instance.
     * @param controller A reference to a PotatoGame to share with the PotatoPanel instance.
     */
    public PotatoFrame(PotatoGame controllerRef)
    {
        //The first line of any subclass should ALWAYS be a correct call to the super constructor.
        super();
        controller = controllerRef;
        panelCards = new JPanel(new CardLayout());
        gamePanel = new PotatoPanel(controller);
        startPanel = new StartPanel(controller);
        setupFrame();
    }

    /**
     * Configures the JFrame window subclass to add the panel and set size based information.
     */
    private void setupFrame()
    {
        panelCards.add(gamePanel, "GAME");
        panelCards.add(startPanel, "START");

        this.setSize(480,720);
        this.setTitle("Potato PoetAhtoe Game");
        this.add(panelCards);
        this.setResizable(false);
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        replaceScreen("START");

        this.setVisible(true);
    }

    /**
     * Swaps the screen between the existing panels based on the String parameter.
     * @param screen The name of the screen to open.
     */
    public void replaceScreen(String screen)
    {
        if(screen.equals("GAME"))
        {
            gamePanel.addClue(controller.sendClue());
        }
        ((CardLayout)panelCards.getLayout()).show(panelCards, screen);
    }
}
